var sn=Object.defineProperty;var rn=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>(rn(e,typeof t!="symbol"?t+"":t,n),n);import{r as m,b5 as Re,b6 as dt,$ as Q,b7 as St,a,j as I,c as T,A as ge,b8 as an,l as oe,h as U,b9 as on,g as Y,ba as je,bb as ln,bc as It,m as P,bd as ke,be as ft,bf as ht,bg as mt,R as de,i as Pt,X as Ee,a1 as Ne,aT as Rt,aU as Et,_ as le,bh as cn,bi as un,bj as Xe,bk as X,bl as Ve,bm as Le,bn as he,bo as me,bp as Ce,bq as De,br as Nt,e as be,bs as Te,k as ve,bt as ae,bu as dn,bv as fn,bw as hn,bx as mn,by as pn,bz as gn,bA as bn,a8 as vn,u as Tt,aP as xn,bB as yn,bC as wn,bD as kn,T as V,n as Qe,M as Ze,B as Z,D as $e,p as Je,t as et,a3 as Me,bE as Se,N as Cn,bF as Dn,a_ as $t,bG as Sn,aw as In,bH as Pn,aO as Mt,bI as Rn,s as Ot,Y as Ft,a2 as se,bJ as En,v as ne,bK as Nn,aj as At,I as tt,b as zt,d as Oe,bL as Tn,ag as nt,ah as ue,a9 as $n,K as st,q as Mn,o as On,F as Fn,U as Vt,V as An,bM as zn,aN as Vn,bN as Ln,bO as _n,av as rt,bP as Hn,bQ as Un,bR as Ye,a$ as Bn}from"./main.af1248d4.js";import{E as Kn,C as jn}from"./Edit.6a3a7770.js";const at=m.exports.createContext(null);function Yn(){m.exports.useEffect(()=>(document.documentElement.classList.add("no-page-overflow"),()=>{document.documentElement.classList.remove("no-page-overflow")}),[])}function ra({children:e,leftSidenavStatus:t,onLeftSidenavChange:n,rightSidenavStatus:s,initialRightSidenavStatus:r,onRightSidenavChange:o,name:l,leftSidenavCanBeCompact:c,height:u="h-full",...d}){Yn();const i=Re("(max-width: 1024px)"),f=m.exports.useMemo(()=>l?dt(`${l}.sidenav.compact`):!1,[l])?"compact":"open",[h,v]=Q(t,i?"closed":f,n),y=m.exports.useMemo(()=>{if(i)return"closed";if(r!=null)return r;const C=dt(`${l}.sidenav.right.position`,"open");return C!=null?C:r||"closed"},[i,l,r]),[x,g]=Q(s,y,o),w=m.exports.useCallback(C=>{g(C),St(`${l}.sidenav.right.position`,C)},[g,l]),k=i&&(h==="open"||x==="open");return a(at.Provider,{value:{leftSidenavStatus:h,setLeftSidenavStatus:v,rightSidenavStatus:x,setRightSidenavStatus:w,leftSidenavCanBeCompact:c,name:l,isMobileMode:i},children:I("div",{...d,className:T("dashboard-grid test-overflow relative isolate",u),children:[e,a(ge,{children:k&&a(an,{position:"fixed",onClick:()=>{v("closed"),w("closed")}},"dashboard-underlay")})]})})}function aa({children:e}){return m.exports.cloneElement(e,{className:T(e.props.className,"dashboard-grid-content overflow-y-auto")})}function oa({className:e,position:t,children:n,size:s="md",mode:r,overlayPosition:o="fixed",display:l="flex",forceClosed:c=!1}){const{isMobileMode:u,leftSidenavStatus:d,setLeftSidenavStatus:i,rightSidenavStatus:p,setRightSidenavStatus:f}=m.exports.useContext(at),h=t==="left"?d:p,v=u||r==="overlay",y={open:{display:l,width:null},compact:{display:l,width:null},closed:{width:0,transitionEnd:{display:"none"}}},x=qn(h==="compact"?"compact":s);return a(oe.div,{variants:y,initial:!1,animate:c?"closed":h,transition:{type:"tween",duration:.15},onClick:g=>{const w=g.target;u&&(w.closest("button")||w.closest("a"))&&(i("closed"),f("closed"))},className:T(e,t==="left"?"dashboard-grid-sidenav-left":"dashboard-grid-sidenav-right","overflow-hidden will-change-[width]",x,v&&`${o} top-0 bottom-0 z-20 shadow-2xl`,v&&t==="left"&&"left-0",v&&t==="right"&&"right-0"),children:m.exports.cloneElement(n,{className:T(n.props.className,"w-full h-full",h==="compact"&&"compact-scrollbar"),isCompactMode:h==="compact"})})}function qn(e){switch(e){case"compact":return"w-80";case"sm":return"w-224";case"md":return"w-240";case"lg":return"w-288";default:return e||""}}const Gn=U(a("path",{d:"M3 18h13v-2H3v2zm0-5h10v-2H3v2zm0-7v2h13V6H3zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5L21 15.59z"}),"MenuOpenOutlined");function la({children:e,className:t,hideToggleButton:n,...s}){const{isMobileMode:r,leftSidenavStatus:o,setLeftSidenavStatus:l,name:c,leftSidenavCanBeCompact:u}=m.exports.useContext(at),d=u&&!r,i=!n&&(r||u),p=()=>{l(o==="open"?"closed":"open")},f=()=>{const h=o==="compact"?"open":"compact";St(`${c}.sidenav.compact`,h==="compact"),l(h)};return a(on,{className:T("dashboard-grid-navbar",t),border:"border-b",size:"sm",color:"primary",darkModeColor:"bg-alt",toggleButton:i?a(Y,{size:"md",onClick:()=>{d?f():p()},children:a(Gn,{})}):void 0,...s,children:e})}class Ie{constructor(t){_(this,"defaultValue");_(this,"defaultOperator");_(this,"key");_(this,"label");_(this,"description");_(this,"type");_(this,"inputType");_(this,"options");_(this,"operators");_(this,"model");this.defaultValue=t.defaultValue!==void 0?t.defaultValue:"",this.key=t.key,this.label=t.label,this.description=t.description,this.defaultOperator=t.defaultOperator||ot.eq,this.type=t.type||K.Select,this.inputType=t.inputType,this.options=t.options||[],this.operators=t.operators||[],this.model=t.model}}var K=(e=>(e.Select="select",e.DatePicker="datePicker",e.SelectModel="selectModel",e.Input="input",e.BooleanToggle="booleanToggle",e))(K||{}),ot=(e=>(e.eq="=",e.ne="!=",e.gt=">",e.gte=">=",e.lt="<",e.lte="<=",e.has="has",e.doesntHave="doesntHave",e.between="between",e))(ot||{});function Lt(e){return e.set({hour:0,minute:0,second:0,millisecond:0})}function B(e){return e.set({hour:24-1,minute:60-1,second:60-1,millisecond:1e3-1})}function Wn(){var n;const e=je().settings.dates.default_timezone,t=((n=je().user)==null?void 0:n.timezone)||e||"auto";return!t||t==="auto"?ln():t}const z=Lt(It(Wn()));var Dt;const xe=((Dt=je().i18n)==null?void 0:Dt.language)||"en",lt=[{key:0,label:P("Today"),getRangeValue:()=>({preset:0,start:z,end:B(z)})},{key:1,label:P("Yesterday"),getRangeValue:()=>({preset:1,start:z.subtract({days:1}),end:B(z).subtract({days:1})})},{key:2,label:P("This week"),getRangeValue:()=>({preset:2,start:ke(z,xe),end:ft(B(z),xe)})},{key:3,label:P("Last week"),getRangeValue:()=>({preset:3,start:ke(z,xe).subtract({weeks:1}),end:ft(B(z),xe).add({weeks:1})})},{key:4,label:P("Last 7 days"),getRangeValue:()=>({preset:4,start:z.subtract({days:7}),end:B(z)})},{key:5,label:P("Last 14 days"),getRangeValue:()=>({preset:5,start:z.subtract({days:14}),end:B(z)})},{key:6,label:P("Last 30 days"),getRangeValue:()=>({preset:6,start:z.subtract({days:30}),end:B(z)})},{key:7,label:P("Last 3 months"),getRangeValue:()=>({preset:7,start:z.subtract({months:3}),end:B(z)})},{key:8,label:P("Last 12 months"),getRangeValue:()=>({preset:8,start:z.subtract({months:12}),end:B(z)})},{key:9,label:P("This year"),getRangeValue:()=>({preset:9,start:ht(z),end:mt(B(z))})},{key:10,label:P("Last year"),getRangeValue:()=>({preset:10,start:ht(z).subtract({years:1}),end:mt(B(z)).subtract({years:1})})}],_t=U(a("path",{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}),"DateRangeOutlined"),Ht=de.forwardRef((e,t)=>{const{children:n,inputProps:s,wrapperProps:r,className:o,autoFocus:l,style:c,onClick:u}=e;return a("div",{...r,onClick:u,children:a("div",{...s,role:"group",className:T(o,"flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60"),ref:t,style:c,children:a(Pt,{autoFocus:l,children:n})})})}),it=de.forwardRef(({inputRef:e,wrapperProps:t,children:n,onBlur:s,...r},o)=>{const l=Ee(r),c=Ne(o),{fieldProps:u,inputProps:d}=Rt({...r,focusRef:c,labelElementType:"span"});return l.wrapper=T(l.wrapper,r.disabled&&"pointer-events-none"),a(Et,{wrapperProps:le(t,{onBlur:i=>{c.current.contains(i.relatedTarget)||s==null||s(i)},onClick:()=>{cn(c).focusFirst()}}),fieldClassNames:l,ref:c,...u,children:a(Ht,{inputProps:d,className:T(l.input,"gap-10"),ref:e,children:n})})});function Xn(e){return e instanceof un?"day":"minute"}function qe(e,t,n){return t!=null&&e.compare(t)<0||n!=null&&e.compare(n)>0}function Ut(e,t){var d;const n=Xe(),[s,r]=m.exports.useState(!1),o=(d=t.closeDialogOnSelection)!=null?d:!0,l=t.granularity||Xn(e),c=t.min?X(t.min,n):void 0,u=t.max?X(t.max,n):void 0;return{timezone:n,granularity:l,min:c,max:u,calendarIsOpen:s,setCalendarIsOpen:r,closeDialogOnSelection:o}}function ct(){const e=Xe();return m.exports.useMemo(()=>It(e),[e])}function Qn(e){var G,$;const t=ct(),[n,s]=m.exports.useState({start:(!e.value||!e.value.start)&&!((G=e.defaultValue)!=null&&G.start),end:(!e.value||!e.value.end)&&!(($=e.defaultValue)!=null&&$.end)}),r=e.onChange,[o,l]=Q(e.value?He(e.value,t):void 0,e.value?void 0:He(e.defaultValue,t),e.onChange),{min:c,max:u,granularity:d,timezone:i,calendarIsOpen:p,setCalendarIsOpen:f,closeDialogOnSelection:h}=Ut(o.start,e),v=m.exports.useCallback(()=>{s({start:!0,end:!0}),l(He(null,t)),r==null||r(null),f(!1)},[t,l,r,f]),[y,x]=m.exports.useState(null),[g,w]=m.exports.useState(!1),[k,C]=m.exports.useState(o),[E,O]=m.exports.useState(()=>pt(o,u)),b=m.exports.useCallback(S=>{let F=S.start,R=S.end;c&&(F=Ve(F,c));const A=u?Le(u,R):R;F=Le(F,A);const ce=c?Ve(c,F):F;return R=Ve(R,ce),u&&(R=Le(R,u)),{start:X(F,i),end:X(R,i)}},[c,u,i]),D=m.exports.useCallback(S=>{const F={...b(S),preset:S.preset};l(F),C(F),O(pt(F,u)),s({start:!1,end:!1})},[l,b,u]),M=m.exports.useCallback(S=>!n.start&&he(S,k.start)||!n.end&&he(S,k.end),[k,n]),N=m.exports.useCallback(S=>(g||!n.start&&!n.end)&&S.compare(k.start)>=0&&S.compare(k.end)<=0,[k,n,g]),L=m.exports.useCallback(S=>he(S,k.start),[k]),H=m.exports.useCallback(S=>he(S,k.end),[k]),te=m.exports.useCallback((S,F)=>({onPointerEnter:()=>{g&&F&&C(_e({start:y,end:S,timezone:i}))},onClick:()=>{if(!g)w(!0),x(S),C(_e({start:S,end:S,timezone:i}));else{const R=_e({start:Lt(X(y,i)),end:B(X(S,i)),timezone:i});w(!1),x(null),D==null||D(R),h&&(f==null||f(!1))}}}),[y,g,D,f,h,i]);return{selectedValue:o,setSelectedValue:D,calendarIsOpen:p,setCalendarIsOpen:f,dayIsActive:M,dayIsHighlighted:N,dayIsRangeStart:L,dayIsRangeEnd:H,getCellProps:te,calendarDates:E,setIsPlaceholder:s,isPlaceholder:n,clear:v,setCalendarDates:O,min:c,max:u,granularity:d,timezone:i,closeDialogOnSelection:h}}function pt(e,t){let n=me(Ce(e.start)),s=me(De(e.end));return Nt(n,s)&&(s=De(s.add({months:1}))),t&&s.compare(t)>0&&(s=n,n=Ce(n.subtract({months:1}))),[n,s]}function _e(e){const t=X(e.start,e.timezone),n=X(e.end,e.timezone);return t.compare(n)>0?{start:n,end:t}:{start:t,end:n}}function He(e,t){return(e==null?void 0:e.start)&&(e==null?void 0:e.end)?e:!(e!=null&&e.start)&&(e==null?void 0:e.end)?(e.start=e.end.subtract({months:1}),e):!(e!=null&&e.end)&&(e==null?void 0:e.start)?(e.end=e.start.add({months:1}),e):{start:t,end:t.add({months:1})}}const Bt=U(a("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"}),"ArrowRightAltOutlined");function Zn(e,t,n,s){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,n,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,o=r>=12;return e.set({hour:o?r-12:r+12})}case"hour":case"minute":case"second":return e.cycle(t,n,{round:t!=="hour",hourCycle:s.hour12?12:24})}return e}function Jn(e,t,n,s){switch(t){case"day":case"month":case"year":return e.set({[t]:n})}if("hour"in e)switch(t){case"dayPeriod":{const r=e.hour,o=r>=12;return n>=12===o?e:e.set({hour:o?r-12:r+12})}case"hour":if(s.hour12){const o=e.hour>=12;!o&&n===12&&(n=0),o&&n<12&&(n+=12)}case"minute":case"second":return e.set({[t]:n})}return e}const gt={year:5,month:2,day:7,hour:2,minute:15,second:15,dayPeriod:1};function es({segment:e,domProps:t,value:n,onChange:s,isPlaceholder:r,state:{timezone:o,calendarIsOpen:l,setCalendarIsOpen:c}}){const u=be(),d=m.exports.useRef(""),{localeCode:i}=Te(),p=ve(),f=ae({timeZone:o}),h=m.exports.useMemo(()=>new dn(i,{maximumFractionDigits:0}),[i]),v=b=>{s(Jn(n,e.type,b,f.resolvedOptions()))},y=b=>{s(Zn(n,e.type,b,f.resolvedOptions()))},x=()=>{if(h.isValidPartialNumber(e.text)){const b=e.text.slice(0,-1),D=h.parse(b);if(b.length===0||D===0){const M=fn(o);e.type in M&&v(M[e.type])}else v(D);d.current=b}else e.type==="dayPeriod"&&y(-1)},g=b=>{var D;if(!(b.ctrlKey||b.metaKey||b.shiftKey||b.altKey)){switch(b.key){case"ArrowLeft":b.preventDefault(),b.stopPropagation(),p.focusPrevious();break;case"ArrowRight":b.preventDefault(),b.stopPropagation(),p.focusNext();break;case"Enter":(D=b.target.closest("form"))==null||D.requestSubmit(),c(!l);break;case"Tab":break;case"Backspace":case"Delete":{b.preventDefault(),b.stopPropagation(),x();break}case"ArrowUp":b.preventDefault(),d.current="",y(1);break;case"ArrowDown":b.preventDefault(),d.current="",y(-1);break;case"PageUp":b.preventDefault(),d.current="",y(gt[e.type]||1);break;case"PageDown":b.preventDefault(),d.current="",y(-(gt[e.type]||1));break;case"Home":b.preventDefault(),d.current="",v(e.maxValue);break;case"End":b.preventDefault(),d.current="",v(e.minValue);break}E(b.key)}},w=ae({hour:"numeric",hour12:!0}),k=m.exports.useMemo(()=>{const b=new Date;return b.setHours(0),w.formatToParts(b).find(D=>D.type==="dayPeriod").value},[w]),C=m.exports.useMemo(()=>{const b=new Date;return b.setHours(12),w.formatToParts(b).find(D=>D.type==="dayPeriod").value},[w]),E=b=>{const D=d.current+b;switch(e.type){case"dayPeriod":if(k.toLowerCase().startsWith(b))v(0);else if(C.toLowerCase().startsWith(b))v(12);else break;p.focusNext();break;case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!h.isValidPartialNumber(D))return;let M=h.parse(D),N=M,L=e.minValue===0;if(e.type==="hour"&&f.resolvedOptions().hour12){switch(f.resolvedOptions().hourCycle){case"h11":M>11&&(N=h.parse(b));break;case"h12":L=!1,M>12&&(N=h.parse(b));break}e.value>=12&&M>1&&(M+=12)}else M>e.maxValue&&(N=h.parse(b));if(Number.isNaN(M))return;const H=N!==0||L;H&&v(N),Number(`${M}0`)>e.maxValue||D.length>=String(e.maxValue).length?(d.current="",H&&p.focusNext()):d.current=D;break}}},O=u?{}:{"aria-label":e.type,"aria-valuetext":r?void 0:`${e.value}`,"aria-valuemin":e.minValue,"aria-valuemax":e.maxValue,"aria-valuenow":r?void 0:e.value,tabIndex:0,onKeyDown:g};return a("div",{...le(t,{...O,onFocus:b=>{d.current="",b.target.scrollIntoView({block:"nearest"})},onClick:b=>{b.preventDefault(),b.stopPropagation()}}),className:"p-2 outline-none caret-transparent cursor-default rounded focus:bg-primary focus:text-on-primary select-none whitespace-nowrap box-content tabular-nums text-center",children:e.text.padStart(e.minLength,"0")})}function ts({segment:e,domProps:t}){const n=ve();return a("div",{...t,onPointerDown:s=>{s.pointerType==="mouse"&&(s.preventDefault(),n.focusNext({from:s.target})||n.focusPrevious({from:s.target}))},"aria-hidden":!0,className:"min-w-4 cursor-default select-none",children:e.text})}function ns(e,t,n){switch(t){case"year":return{value:e.year,placeholder:"yyyy",minValue:1,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,placeholder:"mm",minValue:mn(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:hn(e),maxValue:e.calendar.getDaysInMonth(e),placeholder:"dd"}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12,placeholder:"--"};case"hour":if(n.hour12){const s=e.hour>=12;return{value:e.hour,minValue:s?12:0,maxValue:s?23:11,placeholder:"--"}}return{value:e.hour,minValue:0,maxValue:23,placeholder:"--"};case"minute":return{value:e.minute,minValue:0,maxValue:59,placeholder:"--"}}return{}}function pe({segmentProps:e,state:t,value:n,onChange:s,isPlaceholder:r}){const{granularity:o}=t,l=m.exports.useMemo(()=>{const i={year:"numeric",month:"numeric",day:"numeric"};return o==="minute"&&(i.hour="numeric",i.minute="numeric"),i},[o]),c=ae(l),u=m.exports.useMemo(()=>n.toDate(),[n]),d=m.exports.useMemo(()=>c.formatToParts(u).map(i=>{const p=ns(n,i.type,c.resolvedOptions()),f=r&&i.type!=="literal"?p.placeholder:i.value;return{type:i.type,text:i.value===", "?" ":f,...p,minLength:i.type!=="literal"?String(p.maxValue).length:1}}),[u,c,r,n]);return a("div",{className:"flex items-center",children:d.map((i,p)=>i.type==="literal"?a(ts,{domProps:e,segment:i},p):a(es,{isPlaceholder:r,domProps:e,state:t,value:n,onChange:s,segment:i},p))})}const Kt=U(a("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeftOutlined"),jt=U(a("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRightOutlined");function ss({date:e,currentMonth:t,state:{dayIsActive:n,dayIsHighlighted:s,dayIsRangeStart:r,dayIsRangeEnd:o,getCellProps:l,timezone:c,min:u,max:d}}){const{localeCode:i}=Te(),p=pn(e,i),f=n(e),h=s(e),v=r(e),y=o(e),x=gn(e,c),g=Nt(e,t),w=qe(e,u,d);return I("div",{role:"button","aria-disabled":w,className:T("w-40 h-40 text-sm relative isolate flex-shrink-0",w&&"text-disabled pointer-events-none",!g&&"invisible pointer-events-none"),...l(e,g),children:[a("span",{className:T("absolute inset-0 flex items-center justify-center rounded-full w-full h-full select-none z-10 cursor-pointer",!f&&!x&&"hover:bg-hover",f&&"bg-primary text-on-primary font-semibold",x&&!f&&"bg-chip"),children:e.day}),h&&g&&a("span",{className:T("absolute w-full h-full inset-0 bg-primary/focus",(v||p===0||e.day===1)&&"rounded-l-full",(y||p===6||e.day===t.calendar.getDaysInMonth(t))&&"rounded-r-full")})]})}function rs({startDate:e,state:t,isFirst:n,isLast:s}){const{localeCode:r}=Te(),o=bn(e,r),l=ke(e,r);return I("div",{className:"w-280 flex-shrink-0",children:[a(as,{isFirst:n,isLast:s,state:t,currentMonth:e}),I("div",{className:"block",role:"grid",children:[a(os,{state:t,startDate:e}),[...new Array(o).keys()].map(c=>a(oe.div,{className:"flex mb-6",children:[...new Array(7).keys()].map(u=>a(ss,{date:l.add({weeks:c,days:u}),currentMonth:e,state:t},u))},c))]})]})}function as({currentMonth:e,isFirst:t,isLast:n,state:{calendarDates:s,setCalendarDates:r,timezone:o,min:l,max:c}}){const u=f=>{const h=s.length;let v;f==="forward"?v=s.map(y=>De(y.add({months:h}))):v=s.map(y=>De(y.subtract({months:h}))),r(v)},d=ae({month:"long",year:"numeric",era:e.calendar.identifier!=="gregory"?"long":void 0,calendar:e.calendar.identifier}),i=qe(e.subtract({days:1}),l,c),p=qe(Ce(e.add({months:1})),l,c);return I("div",{className:"flex items-center justify-between gap-10",children:[a(Y,{size:"md",className:T("text-muted",!t&&"invisible"),disabled:!t||i,"aria-hidden":!t,onClick:()=>{u("backward")},children:a(Kt,{})}),a("div",{className:"text-sm font-semibold select-none",children:d.format(e.toDate(o))}),a(Y,{size:"md",className:T("text-muted",!n&&"invisible"),disabled:!n||p,"aria-hidden":!n,onClick:()=>{u("forward")},children:a(jt,{})})]})}function os({state:{timezone:e},startDate:t}){const{localeCode:n}=Te(),s=ae({weekday:"short"}),r=ke(t,n);return a("div",{className:"flex",children:[...new Array(7).keys()].map(o=>{const c=r.add({days:o}).toDate(e),u=s.format(c);return a("div",{className:"w-40 h-40 text-sm font-semibold relative flex-shrink-0",children:a("div",{className:"absolute flex items-center justify-center w-full h-full select-none",children:u})},o)})})}function Yt({state:e,visibleMonths:t=1}){return be()&&(t=1),a(vn,{children:[...new Array(t).keys()].map(s=>{const r=me(Ce(e.calendarDates[s])),o=s===0,l=s===t-1;return a(rs,{state:e,startDate:r,isFirst:o,isLast:l},s)})})}const qt=m.exports.memo(({start:e,end:t,options:n,preset:s})=>{const{dates:r}=Tt(),o=Xe(),l=ae(n||xn[s||(r==null?void 0:r.format)]);if(!e||!t)return null;let c;try{c=l.formatRange(bt(e,o),bt(t,o))}catch{c=""}return a(m.exports.Fragment,{children:c})},yn);function bt(e,t){return typeof e=="string"?wn(e,t).toDate():"toDate"in e?e.toDate(t):e}function ls({children:e,className:t,padding:n,dataTestId:s}){return a(Pt,{children:a("ul",{"data-testid":s,className:T("text-base sm:text-sm outline-none",t,n!=null?n:"py-4"),children:e})})}function is({children:e,onSelected:t,borderRadius:n,...s}){const r=ve(),o=!!t,l=m.exports.useRef(null),[c,u]=m.exports.useState(!1),d=i=>{switch(i.key){case"ArrowDown":i.preventDefault(),r.focusNext();break;case"ArrowUp":i.preventDefault(),r.focusPrevious();break;case"Home":i.preventDefault(),r.focusFirst();break;case"End":i.preventDefault(),r.focusLast();break;case"Enter":case"Space":i.preventDefault(),t==null||t();break}};return a("li",{children:a(kn,{className:n||"rounded",isActive:c,isDisabled:s.isDisabled,...s,onFocus:i=>{u(i.target.matches(":focus-visible"))},onBlur:()=>{u(!1)},onClick:()=>{t==null||t()},ref:l,role:o?"button":void 0,onKeyDown:o?d:void 0,tabIndex:o&&!s.isDisabled?0:void 0,children:e})})}function cs({onPresetSelected:e,selectedValue:t}){return a(ls,{className:"min-w-192",padding:"py-14",dataTestId:"date-range-preset-list",children:lt.map(n=>a(is,{borderRadius:"rounded-none",capitalizeFirst:!0,isSelected:(t==null?void 0:t.preset)===n.key,onSelected:()=>{const s=n.getRangeValue();e(s)},children:a(V,{...n.label})},n.key))})}function us(e){return Re("(max-width: 1024px)",e)}function ds({state:e,showInlineDatePickerField:t=!1}){const n=us(),{close:s}=Qe(),r=m.exports.useRef(e),o=e.isPlaceholder.start||e.isPlaceholder.end,l=I(Ze,{dividerTop:!0,startAction:!o&&!n?a("div",{className:"text-xs",children:a(qt,{start:e.selectedValue.start.toDate(),end:e.selectedValue.end.toDate(),options:{dateStyle:"medium"}})}):void 0,children:[a(Z,{variant:"text",size:"xs",onClick:()=>{e.setSelectedValue(r.current.selectedValue),e.setIsPlaceholder(r.current.isPlaceholder),s()},children:a(V,{message:"Cancel"})}),a(Z,{variant:"flat",color:"primary",size:"xs",onClick:()=>{s(e.selectedValue)},children:a(V,{message:"Select"})})]});return I($e,{size:"auto",children:[I(Je,{className:"flex",padding:"p-0",children:[!n&&a(cs,{selectedValue:e.selectedValue,onPresetSelected:c=>{e.setSelectedValue(c),e.closeDialogOnSelection&&s(c)}}),a(ge,{initial:!1,children:a(fs,{state:e,showInlineDatePickerField:t})})]}),!e.closeDialogOnSelection&&l]})}function fs({state:e,showInlineDatePickerField:t}){return I(oe.div,{initial:{width:0,overflow:"hidden"},animate:{width:"auto"},exit:{width:0,overflow:"hidden"},transition:{type:"tween",duration:.125},className:"border-l px-20 pt-10 pb-20",children:[t&&a(hs,{state:e}),a("div",{className:"flex items-start gap-36",children:a(Yt,{state:e,visibleMonths:2})})]})}function hs({state:e}){const{selectedValue:t,setSelectedValue:n}=e;return I(it,{className:"mb-20 mt-10",children:[a(pe,{state:e,value:t.start,onChange:s=>{n({...t,start:s})}}),a(Bt,{className:"block flex-shrink-0 text-muted",size:"md"}),a(pe,{state:e,value:t.end,onChange:s=>{n({...t,end:s})}})]})}function ms(e){var f,h;const{granularity:t,closeDialogOnSelection:n,...s}=e,r=Qn(e),o=m.exports.useRef(null),c=be()&&t!=="day",u=a(et,{offset:8,placement:"bottom-start",isOpen:r.calendarIsOpen,onOpenChange:r.setCalendarIsOpen,type:"popover",triggerRef:o,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:a(ds,{state:r})}),d={onClick:v=>{v.stopPropagation(),v.preventDefault(),ps(v)?r.setCalendarIsOpen(!1):r.setCalendarIsOpen(!0)}},i=r.selectedValue,p=r.setSelectedValue;return I(m.exports.Fragment,{children:[I(it,{ref:o,wrapperProps:d,endAdornment:c?void 0:a(_t,{}),...s,children:[a(pe,{isPlaceholder:(f=r.isPlaceholder)==null?void 0:f.start,state:r,segmentProps:d,value:i.start,onChange:v=>{p({...i,start:v})}}),a(Bt,{className:"block flex-shrink-0 text-muted",size:"md"}),a(pe,{isPlaceholder:(h=r.isPlaceholder)==null?void 0:h.end,state:r,segmentProps:d,value:i.end,onChange:v=>{p({...i,end:v})}})]}),u]})}function ps(e){return["hour","minute","dayPeriod"].includes(e.currentTarget.ariaLabel||"")}function gs(e){const{field:{onChange:t,onBlur:n,value:s,ref:r},fieldState:{invalid:o,error:l}}=Me({name:e.name}),c={onChange:u=>{t(u?Gt(u):null)},onBlur:n,value:bs(s),invalid:o,errorMessage:l==null?void 0:l.message,inputRef:r};return a(ms,{...le(c,e)})}function bs(e){const{start:t,end:n,preset:s}=e||{},r={preset:s};return t&&(r.start=typeof t=="string"?Se(t):t),n&&(r.end=typeof n=="string"?Se(n):n),r}function Gt({start:e,end:t,preset:n}={}){const s={preset:n};return e&&(s.start=e.toAbsoluteString()),t&&(s.end=t.toAbsoluteString()),s}class Wt extends Ie{constructor(n){n.defaultValue||(n.defaultValue=Gt(lt[3].getRangeValue()));super(n);_(this,"type",K.DatePicker);_(this,"defaultOperator",ot.between)}}class vs extends Wt{constructor(){super(...arguments);_(this,"key","created_at");_(this,"label",P("Date created"))}}class xs extends Wt{constructor(){super(...arguments);_(this,"key","updated_at");_(this,"label",P("Last updated"))}}const Fe=m.exports.forwardRef(({className:e,circle:t,size:n="md",src:s,link:r,label:o,fallback:l="generic",...c},u)=>{let d=s?a("img",{ref:u,src:s,alt:o,className:"block object-cover w-full h-full"}):a("div",{className:"bg-alt dark:bg-chip w-full h-full",children:a(Dn,{viewBox:"0 0 48 48",className:"w-full h-full text-muted"})});o&&(d=a($t,{label:o,children:d}));const i={...c,className:T(e,"relative block overflow-hidden select-none",ys(n),t?"rounded-full":"rounded")};return r?a(Cn,{...i,to:r,children:d}):a("div",{...i,children:d})});function ys(e){switch(e){case"xs":return"w-18 h-18";case"sm":return"w-24 h-24";case"md":return"w-32 h-32";case"lg":return"w-40 h-40";default:return e}}const Ue="filters";function ws(e){if(!e)return[];let t=[];try{t=JSON.parse(atob(decodeURIComponent(e))),t.map(n=>(n.valueKey!=null&&(n.value=n.valueKey),n))}catch{}return t}function ks(e,t){return!e||(e=t?e.filter(n=>n.value!=="").map(n=>Cs(n,t)):e,e=e.filter(n=>!n.isInactive),!e.length)?"":encodeURIComponent(btoa(JSON.stringify(e)))}function Cs(e,t){const n=t.find(s=>s.key===e.key);if((n==null?void 0:n.type)==="select"){const s=(n.options||[]).find(r=>r.key===e.value);return{...e,value:s==null?void 0:s.value,valueKey:s==null?void 0:s.key}}return e}function Ds(e,t){const[n]=Sn(),s=In(),r=n.get(Ue),o=m.exports.useMemo(()=>{if(!e)return[];const i=ws(r);return(t||[]).forEach(p=>{if(!i.find(f=>f.key===p)){const f=e.find(h=>h.key===p);i.push({key:p,value:f.defaultValue,operator:f.defaultOperator,isInactive:!0})}}),i.sort((p,f)=>e.findIndex(h=>h.key===p.key)-e.findIndex(h=>h.key===f.key)),i},[r,t,e]),l=m.exports.useCallback(i=>{const p=[...o];return i.forEach(f=>{const h=typeof f=="object"?f.key:f,v=p.findIndex(y=>y.key===h);v>-1&&p.splice(v,1)}),p},[o]),c=m.exports.useCallback(i=>{const p=ks(i,e);p?n.set(Ue,p):n.delete(Ue),s({search:`?${n}`},{replace:!0})},[e,s,n]),u=m.exports.useCallback(i=>{const f=[...l(i),...i];c(f)},[l,c]),d=m.exports.useCallback(i=>c(l([i])),[l,c]);return{add:u,remove:d,replaceAll:c,decodedFilters:o,encodedFilters:r}}function Ae({isFirst:e,isLast:t,isRowHeader:n,width:s,column:r}={}){const o=(r==null?void 0:r.width)||s||"",l=r==null?void 0:r.padding;let c="text-left";return(r==null?void 0:r.align)==="center"?c="text-center":(r==null?void 0:r.align)==="end"&&(c="text-right"),T("overflow-hidden whitespace-nowrap overflow-ellipsis h-48 outline-none focus-visible:outline focus-visible:outline-offset-2",c,!l&&e&&"pl-24 pr-16",!l&&t&&"pr-24 pl-16",!e&&!t&&!l&&"px-16",l,o,r==null?void 0:r.className)}function Xt({isHeader:e,isSelected:t,enableSelection:n,isFirst:s,isDarkMode:r,hideBorder:o}={}){return T("break-inside-avoid outline-none",!e&&!o&&"border-b",!e&&s&&!o&&"border-t",t&&!r&&"bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus",t&&r&&"bg-selected hover:bg-focus focus-visible:bg-focus",!t&&!e&&n&&"focus-visible:bg-focus hover:bg-hover")}function Pe(e){return Pn()?e.metaKey:e.ctrlKey}function Ss(e){const{cellCount:t,rowCount:n}=e;return{onKeyDown:r=>{switch(r.key){case"ArrowLeft":q(r,{cell:{op:"decrement"}},e);break;case"ArrowRight":q(r,{cell:{op:"increment"}},e);break;case"ArrowUp":q(r,{row:{op:"decrement"}},e);break;case"ArrowDown":q(r,{row:{op:"increment"}},e);break;case"PageUp":q(r,{row:{op:"decrement",count:5}},e);break;case"PageDown":q(r,{row:{op:"increment",count:5}},e);break;case"Tab":Is(r);break;case"Home":Pe(r)?q(r,{row:{op:"decrement",count:n},cell:{op:"decrement",count:t}},e):q(r,{cell:{op:"decrement",count:t}},e);break;case"End":Pe(r)?q(r,{row:{op:"increment",count:n},cell:{op:"increment",count:t}},e):q(r,{cell:{op:"increment",count:t}},e);break}}}}function q(e,t,{cellCount:n,rowCount:s}){var v,y,x,g,w,k,C,E,O;if(((v=document.activeElement)==null?void 0:v.tagName)==="input")return;e.preventDefault();const r=e.currentTarget,o=e.target.closest("[aria-colindex]");if(!o||!r)return;const l=o.closest("[aria-rowindex]");if(!l)return;let c=parseInt(l.getAttribute("aria-rowindex")),u=parseInt(o.getAttribute("aria-colindex"));if(Number.isNaN(c)||Number.isNaN(u))return;const d=(x=(y=t.row)==null?void 0:y.count)!=null?x:1;((g=t.row)==null?void 0:g.op)==="increment"?c=Math.min(s,c+d):((w=t.row)==null?void 0:w.op)==="decrement"&&(c=Math.max(1,c-d));const i=(C=(k=t.cell)==null?void 0:k.count)!=null?C:1;((E=t.cell)==null?void 0:E.op)==="increment"?u=Math.min(n,u+i):((O=t.cell)==null?void 0:O.op)==="decrement"&&(u=Math.max(1,u-i));const p=r.querySelector(`[aria-rowindex="${c}"] [aria-colindex="${u}"]`);if(!p)return;const h=Mt(p).nextNode()||p;o.setAttribute("tabindex","-1"),h.setAttribute("tabindex","0"),h.focus()}function Is(e){const t=e.currentTarget;if(e.shiftKey)t.focus();else{const n=Mt(t,{tabbable:!0});let s,r;do r=n.lastChild(),r&&(s=r);while(r);s&&!s.contains(document.activeElement)&&Rn(s)}}const ie=m.exports.createContext(null);function Ps({item:e}){const t=be(),{selectedRows:n,enableSelection:s,toggleRow:r,selectionStyle:o}=m.exports.useContext(ie);return!s||o==="highlight"||t?null:a("td",{className:Ae({isFirst:!0,width:"w-64 flex-shrink-0 flex-grow-0"}),children:a(Ot,{checked:n.includes(e.id),onChange:()=>{r(e)}})})}function Rs({rowIndex:e,rowIsHovered:t,index:n,item:s,id:r}){const{enableSelection:o,columns:l}=m.exports.useContext(ie),c=o?!1:n===0,u=n===l.length-1,d=l[n],i=m.exports.useMemo(()=>({index:e,isHovered:t,isPlaceholder:s.isPlaceholder}),[e,t,s.isPlaceholder]);return a("td",{id:r,tabIndex:-1,"data-testid":`col-${d.key}`,className:Ae({isFirst:c,isLast:u,column:d}),children:d.body(s,i)})}function Es({onMoveStart:e,onMove:t,onMoveEnd:n,minimumMovement:s=0,preventDefault:r,stopPropagation:o=!0,onPress:l,onLongPress:c,...u}){const i=m.exports.useRef({lastPosition:{x:0,y:0},started:!1,longPressTriggered:!1}).current,{addGlobalListener:p,removeGlobalListener:f}=Ft(),h=g=>{!i.el||(e==null?void 0:e(g,i.el))===!1||(i.originalTouchAction=i.el.style.touchAction,i.el.style.touchAction="none",i.originalUserSelect=document.documentElement.style.userSelect,document.documentElement.style.userSelect="none",i.started=!0)},v=g=>{var w;if(g.button===0&&i.id==null){if(i.started=!1,((w=u.onPointerDown)==null?void 0:w.call(u,g))===!1)return;o&&g.stopPropagation(),r&&g.preventDefault(),i.id=g.pointerId,i.el=g.currentTarget,i.lastPosition={x:g.clientX,y:g.clientY},c&&(i.longPressTimer=setTimeout(()=>{c(g,i.el),i.longPressTriggered=!0},400)),(e||t)&&p(window,"pointermove",y,!1),p(window,"pointerup",x,!1),p(window,"pointercancel",x,!1)}},y=g=>{if(g.pointerId===i.id){const w=g.clientX-i.lastPosition.x,k=g.clientY-i.lastPosition.y;(Math.abs(w)>=s||Math.abs(k)>=s)&&!i.started&&h(g),i.started&&(t==null||t(g,w,k),i.lastPosition={x:g.clientX,y:g.clientY})}},x=g=>{var w;if(g.pointerId===i.id){i.longPressTimer&&clearTimeout(i.longPressTimer);const k=i.longPressTriggered;i.longPressTriggered=!1,i.started&&(n==null||n(g)),i.el&&(g.type!=="pointercancel"&&((w=u.onPointerUp)==null||w.call(u,g,i.el),g.target&&i.el.contains(g.target)&&(k?c==null||c(g,i.el):l==null||l(g,i.el))),document.documentElement.style.userSelect=i.originalUserSelect||"",i.el.style.touchAction=i.originalTouchAction||""),i.id=void 0,i.started=!1,f(window,"pointermove",y,!1),f(window,"pointerup",x,!1),f(window,"pointercancel",x,!1)}};return{domProps:{onPointerDown:se(v)}}}function Ns(e){return e.shiftKey||Pe(e)}function Ts(){return Re("((hover: none) and (pointer: coarse))")}const $s=["button","a","input","select","textarea"];function Ms({item:e,index:t,renderAs:n,hideBorder:s}){const{selectedRows:r,columns:o,toggleRow:l,selectRow:c,onAction:u,selectRowOnContextMenu:d,enableSelection:i,selectionStyle:p}=m.exports.useContext(ie),f=Ts(),h=En(),v=r.includes(e.id),[y,x]=m.exports.useState(!1),g=N=>N.target.closest($s.join(",")),w=N=>{p==="highlight"&&u&&!f&&!g(N)&&(N.preventDefault(),N.stopPropagation(),u(e,t))},k=!!r.length,C=N=>{g(N)||(p=="checkbox"?i&&(k||!u)?l(e):u&&u(e,t):p==="highlight"&&(f?i&&k?l(e):u==null||u(e,t):i&&c(e,Ns(N))))},{domProps:E}=Es({onPress:C,onLongPress:f&&i?()=>l(e):void 0}),O=N=>{i&&N.key===" "?(N.preventDefault(),N.stopPropagation(),p==="checkbox"?l(e):c(e)):N.key==="Enter"&&!r.length&&u&&(N.preventDefault(),N.stopPropagation(),u(e,t))},b=N=>{d&&(r.includes(e.id)||c(e)),f&&(N.preventDefault(),N.stopPropagation())},D={"aria-selected":v,className:Xt({isSelected:v,enableSelection:i,isFirst:t===0,isDarkMode:h,hideBorder:s}),onDoubleClick:se(w),onKeyDown:se(O),onContextMenu:se(b),onPointerEnter:se(()=>x(!0)),onPointerLeave:se(()=>x(!1)),...E},M=n||"tr";return I(M,{item:M==="tr"?void 0:e,...D,children:[a(Ps,{item:e}),o.map((N,L)=>a(Rs,{rowIndex:t,rowIsHovered:y,index:L,item:e},`${e.id}-${N.key}`))]})}const Os=U(a("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownwardOutlined");function Fs({index:e}){const{enableSelection:t,columns:n,sortDescriptor:s,onSortChange:r,enableSorting:o}=m.exports.useContext(ie),l=t?!1:e===0,c=e===n.length-1,u=n[e],d=Ae({isFirst:l,isLast:c,column:u}),[i,p]=m.exports.useState(!1),f=u.sortingKey||u.key,h=u.allowsSorting&&o,{orderBy:v,orderDir:y}=s||{},x=h&&v===f;let g;x&&y==="asc"?g="ascending":x&&y==="desc"?g="descending":h&&(g="none");const w=()=>{if(!h)return;let E;x&&y==="desc"?E={orderDir:"asc",orderBy:f}:x&&y==="asc"?E={orderBy:void 0,orderDir:void 0}:E={orderDir:"desc",orderBy:f},r==null||r(E)},k=x||i,C={visible:{opacity:1,y:0},hidden:{opacity:0,y:"-25%"}};return I("th",{onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},onKeyDown:E=>{(E.key===" "||E.key==="Enter")&&(E.preventDefault(),w())},onClick:w,tabIndex:-1,"aria-sort":g,"data-testid":`header-col-${u.key}`,className:T(d,"text-muted font-medium text-xs",h&&"cursor-pointer"),children:[u.hideHeader?a("div",{className:"sr-only",children:u.header()}):u.header(),a(ge,{children:h&&a(oe.span,{variants:C,animate:k?"visible":"hidden",initial:!1,transition:{type:"tween"},className:"inline-block ml-6 -mt-2","data-testid":"table-sort-button","aria-hidden":!k,children:a(Os,{size:"xs",className:T("text-muted",y==="asc"&&v===f&&"rotate-180 transition-transform")})},"sort-icon")})]})}function As(){const e=be(),{trans:t}=ne(),{data:n,selectedRows:s,onSelectionChange:r,enableSelection:o,selectionStyle:l}=m.exports.useContext(ie);if(!o||l==="highlight"||e)return null;const c=!!n.length&&n.length===s.length,u=!c&&!!s.length;return a("th",{"aria-colindex":1,className:Ae({width:"w-64 flex-shrink-0 flex-grow-0",isFirst:!0}),children:a(Ot,{"aria-label":t({message:"Select all"}),inputTestId:"select-all-checkbox",isIndeterminate:u,checked:c,onChange:()=>{r(c?[]:n.map(d=>d.id))}})})}function ia({className:e,columns:t,hideHeaderRow:n,data:s,selectedRows:r,defaultSelectedRows:o,onSelectionChange:l,sortDescriptor:c,onSortChange:u,enableSorting:d=!0,onDelete:i,enableSelection:p=!0,selectionStyle:f="checkbox",ariaLabelledBy:h,selectRowOnContextMenu:v,onAction:y,renderRowAs:x,tableBody:g,meta:w,tableRef:k,hideBorder:C=!1,closeOnInteractOutside:E=!1,...O}){const[b,D]=Q(r,o||[],l),[M,N]=Q(c,void 0,u),L=m.exports.useCallback(R=>{const A=[...b];if(!A.includes(R.id))A.push(R.id);else{const ce=A.indexOf(R.id);A.splice(ce,1)}D(A)},[b,D]),H=m.exports.useCallback((R,A)=>{let ce=[];R&&(ce=A?[...b==null?void 0:b.filter(nn=>nn!==R.id),R.id]:[R.id]),D(ce)},[b,D]),te=m.exports.useMemo(()=>({selectedRows:b,onSelectionChange:D,enableSorting:d,enableSelection:p,selectionStyle:f,data:s,columns:t,sortDescriptor:M,onSortChange:N,toggleRow:L,selectRow:H,onAction:y,selectRowOnContextMenu:v,meta:w}),[t,s,p,d,f,y,v,D,N,b,M,L,H,w]),G=Ss({cellCount:p?t.length+1:t.length,rowCount:s.length+1}),$=n?null:a("thead",{children:I("tr",{"aria-rowindex":1,className:Xt({isHeader:!0}),children:[a(As,{}),t.map((R,A)=>a(Fs,{index:A},R.key))]})}),S=x;g?g=m.exports.cloneElement(g,{renderRowAs:S,hideBorder:C}):g=a(zs,{renderRowAs:S,hideBorder:C});const F=Ne(k);return Nn({ref:F,onInteractOutside:R=>{E&&p&&(b==null?void 0:b.length)&&!R.target.closest('[role="dialog"]')&&D([])}}),a(ie.Provider,{value:te,children:I("table",{...le(O,G,{onKeyDown:R=>{R.key==="Escape"?(R.preventDefault(),R.stopPropagation(),b!=null&&b.length&&D([])):R.key==="Delete"?(R.preventDefault(),R.stopPropagation(),b!=null&&b.length&&(i==null||i(s.filter(A=>b==null?void 0:b.includes(A.id))))):Pe(R)&&R.key==="a"&&(R.preventDefault(),R.stopPropagation(),p&&D(s.map(A=>A.id)))}}),ref:F,"aria-multiselectable":p?!0:void 0,"aria-labelledby":h,className:T(e,"select-none isolate outline-none text-sm w-full max-w-full align-top"),children:[$,g]})})}function zs({renderRowAs:e,hideBorder:t}){const{data:n}=m.exports.useContext(ie);return a("tbody",{children:n.map((s,r)=>a(Ms,{item:s,index:r,renderAs:e,hideBorder:t},s.id))})}const ca=U(a("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");function Vs({filter:e}){return a(At,{size:"sm",autoFocus:!0,name:`${e.key}.value`,selectionMode:"single",children:e.options.map(t=>a(tt,{value:t.key,children:a(V,{...t.label})},t.key))})}function Ls({filter:e}){return a(gs,{size:"sm",name:`${e.key}.value`,autoFocus:!0,granularity:"day",closeDialogOnSelection:!0})}const _s=(e,t="normalized-models")=>`${t}/${e}`;function Hs(e,t,n,s){const r=_s(e,s);return zt([r,t],()=>Us(r,t),{keepPreviousData:!0,...n})}async function Us(e,t){return Oe.get(e,{params:t}).then(n=>n.data)}const Bs=(e,t,n="normalized-models")=>`${n}/${e}/${t}`;function Qt(e,t,n,s){const r=Bs(e,t,s);return zt([r,n],()=>Ks(r,n),{enabled:e!=null&&t!=null})}async function Ks(e,t){return Oe.get(e,{params:t}).then(n=>n.data)}function js({modelType:e,label:t,className:n,value:s,defaultValue:r="",onChange:o,description:l,errorMessage:c,invalid:u,openMenuOnFocus:d,autoFocus:i,queryParams:p,customEndpoint:f,disabled:h}){var O;const v=m.exports.useRef(null),[y,x]=m.exports.useState(""),[g,w]=Q(s,r,o),k=Hs(e,{query:y,...p},null,f),{trans:C}=ne(),E=Ee({size:"md"});return g?I("div",{className:n,children:[a("div",{className:E.label,children:t}),a("div",{className:T("p-10 border rounded",u&&"border-danger"),children:a(ge,{initial:!1,mode:"wait",children:a(Ys,{disabled:h,endpoint:f,modelType:e,modelId:g,queryParams:p,onEditClick:()=>{w(""),x(""),requestAnimationFrame(()=>{var b;(b=v.current)==null||b.focus()})}})})}),l&&!c&&a("div",{className:E.description,children:l}),c&&a("div",{className:E.error,children:c})]}):a(Tn,{className:n,invalid:u,errorMessage:c,description:l,isAsync:!0,placeholder:C(P("Find item..")),label:t,isLoading:k.isFetching,items:(O=k.data)==null?void 0:O.results,inputValue:y,onInputValueChange:x,clearInputOnItemSelection:!0,selectionMode:"single",selectedValue:g,onSelectionChange:w,ref:v,openMenuOnFocus:d,autoFocus:i,disabled:h,children:b=>a(tt,{value:b.id,description:b.description,startIcon:a(Fe,{src:b.image}),children:b.name},b.id)})}function Ys({modelType:e,modelId:t,onEditClick:n,endpoint:s,disabled:r,queryParams:o}){const{data:l,isLoading:c}=Qt(e,t,o,s);return c||!(l!=null&&l.model)?a(qs,{},"skeleton"):I(oe.div,{className:T("flex items-center gap-10",r&&"text-disabled cursor-not-allowed pointer-events-none"),...nt,children:[l.model.image&&a(Fe,{src:l.model.image}),I("div",{children:[a("div",{children:l.model.name}),a("div",{className:"text-muted text-xs",children:l.model.description})]}),a($t,{label:a(V,{message:"Change item"}),children:a(Y,{className:"ml-auto text-muted",size:"sm",onClick:n,disabled:r,children:a(Kn,{})})})]},"preview")}function qs(){return I(oe.div,{className:"flex items-center gap-10",...nt,children:[a(ue,{variant:"rect",size:"w-32 h-32"}),I("div",{className:"flex-auto max-h-[36px]",children:[a(ue,{className:"text-xs"}),a(ue,{className:"text-xs max-h-8"})]}),a(ue,{variant:"icon",size:"w-24 h-24"})]})}function Gs({name:e,...t}){const{field:{onChange:n,value:s=""},fieldState:{invalid:r,error:o}}=Me({name:e});return a(js,{value:s,onChange:n,invalid:r,errorMessage:o==null?void 0:o.message,...t})}function Ws({filter:e}){return a(Gs,{name:`${e.key}.value`,className:"mb-20",modelType:e.model,openMenuOnFocus:!0,autoFocus:!0})}const Zt={"=":P("is"),"!=":P("is not"),">":P("is greater than"),">=":P("is greater than or equal to"),"<":P("is less than"),"<=":P("is less than or equal to"),has:P("Include"),doesntHave:P("Do not include"),between:P("Is between")};function Xs({filter:e}){return I(m.exports.Fragment,{children:[a(At,{autoFocus:!0,selectionMode:"single",name:`${e.key}.operator`,className:"mb-14",size:"sm",required:!0,children:e.operators.map(t=>a(tt,{value:t,children:a(V,{...Zt[t]})},t))}),a($n,{size:"sm",name:`${e.key}.value`,type:e.inputType,required:!0})]})}const Jt=m.exports.forwardRef((e,t)=>{const{isInactive:n,filter:s,...r}=e;return n?a(Qs,{filter:s,...r,ref:t}):a(Zs,{filter:s,...r,ref:t})}),Qs=m.exports.forwardRef(({filter:e,...t},n)=>a(Z,{variant:"outline",size:"xs",color:"paper",radius:"rounded-md",border:"border",ref:n,endIcon:a(st,{}),...t,children:a(V,{...e.label})})),Zs=m.exports.forwardRef(({filter:e,children:t,...n},s)=>{const r=e.type===K.BooleanToggle;return I(Z,{variant:"outline",size:"xs",color:"primary",radius:"rounded-r-md",border:"border-y border-r",endIcon:!r&&a(st,{}),ref:s,...n,children:[a("span",{className:T(!r&&"border-r border-r-primary-light mr-8 pr-8"),children:a(V,{...e.label})}),t]})});function ze(e){const{onValueChange:t,isInactive:n,filter:s,label:r}=e;return I(et,{offset:10,type:"popover",onClose:o=>{o!==void 0&&t(o)},children:[a(Jt,{isInactive:n,filter:s,children:r}),a(Js,{...e})]})}function Js({filter:e,panel:t,value:n,operator:s}){const r=Mn({defaultValues:{[e.key]:{value:n,operator:s}}}),{close:o,formId:l}=Qe();return I($e,{size:"xs",children:[a(On,{children:a(V,{...e.label})}),a(Je,{padding:"px-14 pt-14 pb-4",children:I(Fn,{form:r,id:l,onSubmit:c=>{o(c[e.key])},children:[e.description&&a("div",{className:"text-muted text-xs mb-14",children:a(V,{...e.description})}),t]})}),a(Ze,{children:a(Z,{form:l,type:"submit",variant:"flat",color:"primary",size:"xs",children:a(V,{message:"Apply"})})})]})}function er(e){switch(e.filter.type){case K.DatePicker:return a(tr,{...e});case K.BooleanToggle:return a(nr,{...e});case K.Select:return a(sr,{...e});case K.Input:return a(rr,{...e});case K.SelectModel:return a(ar,{...e})}}function tr(e){const{value:t,filter:n}=e;let s;return t.preset!==void 0?s=a(V,{...lt[t.preset].label}):s=a(qt,{start:new Date(t.start),end:new Date(t.end),options:{dateStyle:"medium"}}),a(ze,{...e,label:s,panel:a(Ls,{filter:n})})}function nr({filter:e,isInactive:t,onValueChange:n}){return a(Jt,{onClick:()=>{n({value:!0})},filter:e,isInactive:t})}function sr(e){const{filter:t,value:n}=e,s=t.options.find(r=>r.key===n);return a(ze,{...e,label:s?a(V,{...s.label}):null,panel:a(Vs,{filter:t})})}function rr(e){const{filter:t,value:n,operator:s}=e,r=s?a(V,{...Zt[s]}):null;return a(ze,{...e,label:I(m.exports.Fragment,{children:[r," ",n]}),panel:a(Xs,{filter:t})})}function ar(e){const{value:t,filter:n}=e,{isLoading:s,data:r}=Qt(n.model,t),o=I(m.exports.Fragment,{children:[a(ue,{variant:"avatar",size:"w-18 h-18 mr-6"}),a(ue,{variant:"rect",size:"w-50"})]}),l=I(m.exports.Fragment,{children:[a(Fe,{size:"xs",src:r==null?void 0:r.model.image,className:"mr-6"}),r==null?void 0:r.model.name]});return a(ze,{...e,label:s||!r?o:l,panel:a(Ws,{filter:n})})}function ua({filters:e,pinnedFilters:t,className:n}){const{decodedFilters:s,remove:r,replaceAll:o}=Ds(e,t);return s.length?a("div",{className:T("flex items-center gap-6 overflow-x-auto",n),children:s.map((l,c)=>{const u=e.find(i=>i.key===l.key),d=i=>{const p=[...s];p.splice(c,1,{key:u.key,value:i.value,isInactive:!1,operator:i.operator||u.defaultOperator}),o(p)};return I("div",{children:[!l.isInactive&&a(Y,{variant:"outline",color:"primary",size:"xs",radius:"rounded-l-md",onClick:()=>{r(l.key)},children:a(Vt,{})}),a(er,{filter:u,isInactive:l.isInactive,value:l.valueKey!=null?l.valueKey:l.value,operator:l.operator,onValueChange:d})]},l.key)})}):null}const da=U(a("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),vt=U(a("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined");function Ge(e,t){const n=document.createElement("a");n.href=e,t&&(n.download=t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function or({className:e,children:t,size:n,color:s,radius:r,selectable:o}){return a("div",{className:T(e,"flex items-center gap-8 flex-wrap"),children:m.exports.Children.map(t,l=>{if(m.exports.isValidElement(l))return m.exports.cloneElement(l,{size:n,color:s,selectable:o,radius:r})})})}function We(e){return{id:e,name:`${e}`,description:`${e}`}}function lr(e,t){const n=m.exports.useRef(null),s=Ne(t),{displayWith:r=A=>A.name,validateWith:o,children:l,suggestions:c,isLoading:u,inputValue:d,onInputValueChange:i,onItemSelected:p,placeholder:f,onOpenChange:h,chipSize:v="md",openMenuOnFocus:y=!0,showEmptyMessage:x,value:g,defaultValue:w,onChange:k,valueKey:C,isAsync:E,allowCustomValue:O=!0,showDropdownArrow:b,onChipClick:D,...M}=e,N=Ee({...e,flexibleHeight:!0}),[L,H]=ur(e),[te,G]=m.exports.useState(!1),$=a(rt,{isIndeterminate:!0,size:"sm","aria-label":"loading..."}),S=b?a(st,{}):null,{fieldProps:F,inputProps:R}=Rt({...M,focusRef:s,endAdornment:u&&te?$:S});return a(Et,{fieldClassNames:N,...F,children:I(Ht,{ref:n,className:T("flex items-center flex-wrap",N.input),onClick:()=>{var A;(A=s.current)==null||A.focus()},children:[a(ir,{displayChipUsing:r,onChipClick:D,items:L,setItems:H,chipSize:v}),a(cr,{showEmptyMessage:x,inputProps:R,inputValue:d,onInputValueChange:i,fieldRef:n,inputRef:s,chips:L,setChips:H,validateWith:o,isLoading:u,suggestions:c,placeholder:f,openMenuOnFocus:y,listboxIsOpen:te,setListboxIsOpen:G,allowCustomValue:O,children:l})]})})}function ir({items:e,setItems:t,displayChipUsing:n,chipSize:s,onChipClick:r}){const o=ve(),l=m.exports.useCallback(c=>{const u=e.findIndex(i=>i.id===c),d=[...e];return u>-1&&(d.splice(u,1),t(d)),d},[e,t]);return a(or,{className:"flex-shrink-0 flex-wrap max-w-full my-8",size:s,selectable:!0,children:e.map(c=>a(An,{errorMessage:c.errorMessage,adornment:c.image?a(Fe,{circle:!0,src:c.image}):null,onClick:()=>r==null?void 0:r(c),onRemove:()=>{l(c.id).length?o.focusPrevious({tabbable:!0}):o.focusLast()},children:n(c)},c.id))})}function cr(e){const{inputRef:t,fieldRef:n,validateWith:s,setChips:r,chips:o,suggestions:l,inputProps:c,placeholder:u,openMenuOnFocus:d,listboxIsOpen:i,setListboxIsOpen:p,allowCustomValue:f}=e,h="outline-none text-sm mx-8 my-4 h-30 flex-auto",v=ve(),y=m.exports.useCallback($=>{$=($||[]).filter(S=>{const F=!S||!S.id||!S.name;return!(o.findIndex(A=>A.id===(S==null?void 0:S.id))>-1)&&!F}),$.length&&(s&&($=$.map(S=>s(S))),r([...o,...$]))},[o,r,s]),x=zn({...e,clearInputOnItemSelection:!0,isOpen:i,onOpenChange:p,items:l,selectionMode:"none",role:"listbox",virtualFocus:!0,onItemSelected:$=>{L($)}}),{state:{activeIndex:g,setActiveIndex:w,isOpen:k,setIsOpen:C,inputValue:E,setInputValue:O},refs:b,listboxId:D,collection:M,onInputChange:N}=x,L=$=>{const S=M.size&&g!=null?[...M.values()][g]:null;S!=null&&S.item?y([S.item]):f&&y([We(S?S.value:$)]),O(""),w(null),C(!1)};Vn(()=>{n.current&&b.reference.current!==n.current&&x.reference(n.current)},[n,x,b]);const{handleTriggerKeyDown:H,handleListboxKeyboardNavigation:te}=Hn(x),G=se(()=>{d&&!k&&C(!0)});return a(Ln,{listbox:x,mobileOverlay:_n,onPointerDown:$=>{$.preventDefault()},children:a("input",{type:"text",className:T(h,"bg-transparent"),placeholder:u,...le(c,{ref:t,value:E,onChange:N,onPaste:$=>{const F=$.clipboardData.getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(F){$.preventDefault();const R=window.getSelection();R!=null&&R.rangeCount&&(R.deleteFromDocument(),y(F.map(A=>We(A))))}},"aria-autocomplete":"list","aria-controls":k?D:void 0,autoComplete:"off",autoCorrect:"off",spellCheck:"false",onKeyDown:$=>{const S=$.target;if($.key==="Enter"){$.preventDefault(),L(S.value);return}if($.key==="Escape"&&k&&(C(!1),O("")),$.key==="ArrowUp"&&k&&(g===0||g==null)){w(null);return}if(g!=null&&($.key==="ArrowLeft"||$.key==="ArrowRight")){$.preventDefault();return}if(($.key==="ArrowLeft"||$.key==="Backspace"||$.key==="Delete")&&S.selectionStart===0&&g==null&&o.length){v.focusPrevious({tabbable:!0});return}H($)||te($)},onFocus:G,onClick:G})})})}function ur({onChange:e,value:t,defaultValue:n,valueKey:s}){const r=m.exports.useMemo(()=>xt(t),[t]),o=m.exports.useMemo(()=>xt(n),[n]),l=m.exports.useCallback(c=>{const u=s?c.map(d=>d[s]):c;e==null||e(u)},[e,s]);return Q(r||void 0,o||[],l)}function xt(e){if(e!=null)return e.map(t=>typeof t!="object"?We(t):t)}const fa=de.forwardRef(lr),dr=de.forwardRef((e,t)=>{const{children:n,size:s="sm",description:r,className:o,invalid:l,autoFocus:c,errorMessage:u,...d}=e,i=Ne(t);Un({autoFocus:c},i);const p=fr(s),f=Ee(e),h=m.exports.useId();return I("div",{className:T(o,"isolate"),children:[I("label",{className:"flex items-center select-none",children:[a("input",{...d,type:"checkbox",role:"switch","aria-invalid":l||void 0,"aria-describedby":r?h:void 0,ref:i,"aria-checked":d.checked,className:T(p,!l&&"checked:bg-primary dark:checked:bg-primary-dark checked:border-primary dark:checked:border-primary-dark",l&&"checked:bg-danger checked:border-danger","outline-none cursor-pointer bg-chip border-chip border checked:bg-primary checked:border-primary p-0 overflow-hidden relative rounded-3xl appearance-none transition-colors flex-shrink-0 flex items-center outline-none","before:z-10 before:border before:rounded-3xl before:block before:bg-white before:transition-transform before:translate-x-2","checked:before:border-white","focus-visible:ring",e.disabled&&"opacity-80 cursor-not-allowed")}),n&&a("span",{className:T(f.size.font,"ml-12",l&&"text-danger",e.disabled&&"text-disabled"),children:n})]}),r&&!u&&a("div",{id:h,className:f.description,children:r}),u&&a("div",{id:h,className:f.error,children:u})]})});function ha(e){const{field:{onChange:t,onBlur:n,value:s=!1,ref:r},fieldState:{invalid:o,error:l}}=Me({name:e.name}),c={onChange:u=>{u.target.value&&u.target.value!=="on"?t(u.target.checked?u.target.value:!1):t(u)},onBlur:n,checked:!!s,invalid:o,errorMessage:l==null?void 0:l.message,name:e.name};return a(dr,{ref:r,...le(e,c)})}function fr(e){switch(e){case"xl":return"w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36";case"lg":return"w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30";case"md":return"w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24";case"xs":return"w-30 h-16 before:w-12 before:h-12 checked:before:translate-x-16";default:return"w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20"}}const ma=U(a("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined"),W=new Map,we=new Map,hr=new Map,j={status:"inactive"};function Be({e,rect:t,deltaX:n,deltaY:s}){return{rect:t,x:e.clientX,y:e.clientY,deltaX:n!=null?n:0,deltaY:s!=null?s:0,nativeEvent:e}}let en=null;function yt(e){en=e}function mr(e){return{left:e.left,top:e.top,width:e.width,height:e.height}}function pr(e){const t=new IntersectionObserver(n=>{n.forEach(s=>{const{width:r,height:o,left:l,top:c}=s.boundingClientRect,[u,d]=[...e].find(([,p])=>p.ref.current===s.target)||[];if(u==null||d==null)return;const i={width:r,height:o,left:l,top:c};e.set(u,{...d,rect:i})}),t.disconnect()});[...e.values()].forEach(n=>{n.ref.current&&t.observe(n.ref.current)})}function pa({id:e,disabled:t,ref:n,preview:s,hidePreview:r,...o}){const l=m.exports.useRef(null),{addGlobalListener:c,removeAllGlobalListeners:u}=Ft(),d=m.exports.useRef({lastPosition:{x:0,y:0}}).current,i=m.exports.useRef(o);i.current=o,m.exports.useLayoutEffect(()=>(t?W.delete(e):W.set(e,{...W.get(e),id:e,ref:n,type:i.current.type,getData:i.current.getData}),()=>{W.delete(e)}),[e,t,i,n]);const p=x=>{hr.forEach(g=>{var w;g.type===((w=W.get(e))==null?void 0:w.type)&&x(g)})},f=x=>{var E,O;const g=W.get(e),w=n.current,k=!l.current||!d.clickedEl||l.current.contains(d.clickedEl);if(en||!w||!g||!k){x.preventDefault(),x.stopPropagation();return}pr(we),yt("drag"),r&&gr(x),x.dataTransfer.effectAllowed="move",d.lastPosition={x:x.clientX,y:x.clientY},d.currentRect=mr(w.getBoundingClientRect());const C=Be({rect:d.currentRect,e:x});s!=null&&s.current&&s.current(g,b=>{const D=b.getBoundingClientRect(),M=x.currentTarget.getBoundingClientRect();let N=x.clientX-M.x,L=x.clientY-M.y;(N>D.width||L>D.height)&&(N=D.width/2,L=D.height/2);const H=2*Math.round(M.height/2);b.style.height=`${H}px`,x.dataTransfer.setDragImage(b,0,0)}),j.status="dragging",j.dragTargetId=e,n.current&&(n.current.dataset.dragging="true"),(O=(E=i.current).onDragStart)==null||O.call(E,C,g),requestAnimationFrame(()=>{p(b=>{var D;return(D=b.onDragStart)==null?void 0:D.call(b,C,g)})}),c(window,"dragover",h,!0)},h=x=>{var O,b;if(x.preventDefault(),!d.currentRect)return;const g=x.clientX-d.lastPosition.x,w=x.clientY-d.lastPosition.y,k={...d.currentRect,left:d.currentRect.left+g,top:d.currentRect.top+w},C=Be({rect:k,e:x,deltaX:g,deltaY:w}),E=W.get(e);E&&((b=(O=i.current).onDragMove)==null||b.call(O,C,E),p(D=>{var M;return(M=D.onDragMove)==null?void 0:M.call(D,C,E)})),d.lastPosition={x:x.clientX,y:x.clientY},d.currentRect=k};return{draggableProps:{draggable:!t,onDragStart:f,onDragEnd:x=>{var k,C;if(u(),!d.currentRect)return;yt(null),re&&re.remove();const g=Be({rect:d.currentRect,e:x}),w=W.get(e);w&&((C=(k=i.current).onDragEnd)==null||C.call(k,g,w),p(E=>{var O;return(O=E.onDragEnd)==null?void 0:O.call(E,g,w,j.status)})),requestAnimationFrame(()=>{j.dragTargetId=void 0,j.status="inactive",n.current&&delete n.current.dataset.dragging})},onPointerDown:x=>{d.clickedEl=x.target}},dragHandleRef:l}}let re;function gr(e){re||(re=new Image,document.body.append(re),re.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),e.dataTransfer.setDragImage(re,0,0)}async function*br(e){for(const t of e.items)if(t.kind==="file")if(typeof t.webkitGetAsEntry=="function"){const n=t.webkitGetAsEntry();if(!n)continue;if(n.isFile){if(n.name===".DS_Store")continue;yield new Ye(t.getAsFile(),n.fullPath)}else n.isDirectory&&(yield*tn(n))}else{const n=t.getAsFile();if(!n||n.name===".DS_Store")continue;yield new Ye(n,t.fullPath)}}async function*tn(e){const t=e.createReader();let n;do{n=await new Promise((s,r)=>{t.readEntries(s,r)});for(const s of n)if(s.isFile){if(s.name===".DS_Store")continue;const r=await vr(s);yield new Ye(r,s.fullPath)}else s.isDirectory&&(yield*tn(s))}while(n.length>0)}function vr(e){return new Promise((t,n)=>e.file(t,n))}async function xr(e){const t=[];for await(const n of e)t.push(n);return t}const yr=400;function ga({id:e,disabled:t,ref:n,...s}){const r=m.exports.useRef({dragOverElements:new Set,dropActivateTimer:void 0}).current,o=m.exports.useRef(s);o.current=s,m.exports.useLayoutEffect(()=>(we.set(e,{...we.get(e),disabled:t,id:e,ref:n}),()=>{we.delete(e)}),[e,o,t,n]);const l=f=>{var y;const h=o.current,v=h.allowDragEventsFromItself||n.current!==((y=f.ref)==null?void 0:y.current);return!!((f==null?void 0:f.type)&&v&&h.types.includes(f.type)&&(!h.acceptsDrop||h.acceptsDrop(f)))},c=f=>{var v,y;const h=fe(f);h&&((y=(v=o.current).onDragLeave)==null||y.call(v,h))};return{droppableProps:t?{}:{onDragOver:f=>{var v,y;f.preventDefault(),f.stopPropagation();const h=fe(f);h&&l(h)&&((y=(v=o.current).onDragOver)==null||y.call(v,h,f))},onDragEnter:f=>{var v,y;if(f.stopPropagation(),r.dragOverElements.add(f.target),r.dragOverElements.size>1)return;const h=fe(f);h&&l(h)&&((y=(v=o.current).onDragEnter)==null||y.call(v,h),clearTimeout(r.dropActivateTimer),typeof o.current.onDropActivate=="function"&&(r.dropActivateTimer=setTimeout(()=>{var x,g;h&&((g=(x=o.current).onDropActivate)==null||g.call(x,h))},yr)))},onDragLeave:f=>{f.stopPropagation(),r.dragOverElements.delete(f.target);for(const v of r.dragOverElements)f.currentTarget.contains(v)||r.dragOverElements.delete(v);if(r.dragOverElements.size>0)return;const h=fe(f);h&&l(h)&&(c(f),clearTimeout(r.dropActivateTimer))},onDrop:async f=>{var v,y,x,g;f.preventDefault(),f.stopPropagation(),r.dragOverElements.clear(),c(f),clearTimeout(r.dropActivateTimer);const h=fe(f);if(h)if((y=(v=o.current).onDragLeave)==null||y.call(v,h),!l(h))j.status!=="inactive"&&(j.status="dropFail");else{const w=(g=(x=o.current).onDrop)==null?void 0:g.call(x,h);j.status!=="inactive"&&(j.status=w===!1?"dropFail":"dropSuccess")}}}}}function fe(e){if(j.dragTargetId!=null)return W.get(j.dragTargetId);if(e.dataTransfer.types.includes("Files"))return{type:"nativeFile",el:null,ref:null,getData:()=>xr(br(e.dataTransfer))}}const wr="user",ba=U(a("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"}),"LinkOutlined"),va=U(a("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 *//**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ye(e,t,n){let s=[],r;return()=>{let o;n.key&&n.debug!=null&&n.debug()&&(o=Date.now());const l=e();if(!(l.length!==s.length||l.some((d,i)=>s[i]!==d)))return r;s=l;let u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,i=Math.round((Date.now()-u)*100)/100,p=i/16,f=(h,v)=>{for(h=String(h);h.length<v;)h=" "+h;return h};console.info("%c\u23F1 "+f(i,5)+" /"+f(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return r}}const kr=e=>e,Cr=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let r=t;r<=n;r++)s.push(r);return s},Dr=(e,t)=>{const n=new ResizeObserver(s=>{var r,o;t({width:(r=s[0])==null?void 0:r.contentRect.width,height:(o=s[0])==null?void 0:o.contentRect.height})});if(!!e.scrollElement)return t(e.scrollElement.getBoundingClientRect()),n.observe(e.scrollElement),()=>{n.unobserve(e.scrollElement)}},wt={element:["scrollLeft","scrollTop"],window:["scrollX","scrollY"]},Sr=e=>(t,n)=>{if(!t.scrollElement)return;const s=wt[e][0],r=wt[e][1];let o=t.scrollElement[s],l=t.scrollElement[r];const c=()=>{const d=t.scrollElement[t.options.horizontal?s:r];n(Math.max(0,d-t.options.scrollMargin))};c();const u=d=>{const i=d.currentTarget,p=i[s],f=i[r];(t.options.horizontal?o-p:l-f)&&c(),o=p,l=f};return t.scrollElement.addEventListener("scroll",u,{capture:!1,passive:!0}),()=>{t.scrollElement.removeEventListener("scroll",u)}},Ir=Sr("element"),Pr=(e,t)=>Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"]),Rr=(e,t,n)=>{var s;let{canSmooth:r,sync:o}=t;const l=o?e:e+n.options.scrollMargin;(s=n.scrollElement)==null||s.scrollTo==null||s.scrollTo({[n.options.horizontal?"left":"top"]:l,behavior:r?"smooth":void 0})};class Er{constructor(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.measurementsCache=[],this.itemMeasurementsCache={},this.pendingMeasuredCacheIndexes=[],this.scrollDelta=0,this.measureElementCache={},this.getResizeObserver=(()=>{let s=null;return()=>s||(typeof ResizeObserver<"u"?s=new ResizeObserver(r=>{r.forEach(o=>{this._measureElement(o.target,!1)})}):null)})(),this.range={startIndex:0,endIndex:0},this.setOptions=s=>{Object.entries(s).forEach(r=>{let[o,l]=r;typeof l>"u"&&delete s[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:kr,rangeExtractor:Cr,enableSmoothScroll:!0,onChange:()=>{},measureElement:Pr,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",...s}},this.notify=()=>{var s,r;(s=(r=this.options).onChange)==null||s.call(r,this)},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>()=>{var s;(s=this.getResizeObserver())==null||s.disconnect(),this.measureElementCache={},this.cleanup()},this._willUpdate=()=>{const s=this.options.getScrollElement();this.scrollElement!==s?(this.cleanup(),this.scrollElement=s,this._scrollToOffset(this.scrollOffset,{canSmooth:!1,sync:!0,requested:!1}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.calculateRange()})),this.unsubs.push(this.options.observeElementOffset(this,r=>{this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.scrollOffset!==r?(this.scrollOffset=r,this.isScrolling=!0,this.scrollDelta=0,this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.notify()},this.options.scrollingDelay)):(this.isScrolling=!1,this.scrollDelta=0),this.calculateRange()}))):this.isScrolling||this.calculateRange()},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurements=ye(()=>[this.options.count,this.options.paddingStart,this.options.getItemKey,this.itemMeasurementsCache],(s,r,o,l)=>{const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<s;d++){const i=o(d),p=l[i],f=u[d-1]?u[d-1].end:r,h=typeof p=="number"?p:this.options.estimateSize(d),v=f+h;u[d]={index:d,start:f,size:h,end:v,key:i}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ye(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(s,r,o)=>{const l=Tr({measurements:s,outerSize:r,scrollOffset:o});return(l.startIndex!==this.range.startIndex||l.endIndex!==this.range.endIndex)&&(this.range=l,this.notify()),this.range},{key:!1,debug:()=>this.options.debug}),this.getIndexes=ye(()=>[this.options.rangeExtractor,this.range,this.options.overscan,this.options.count],(s,r,o,l)=>s({...r,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const r=this.options.indexAttribute,o=s.getAttribute(r);return o?parseInt(o,10):(console.warn("Missing attribute name '"+r+"={index}' on measured element."),-1)},this._measureElement=(s,r)=>{var o;const l=this.indexFromElement(s),c=this.measurementsCache[l];if(!c)return;const u=this.measureElementCache[c.key],d=this.getResizeObserver();if(!s.isConnected){u&&(d==null||d.unobserve(u),delete this.measureElementCache[c.key]);return}(!u||u!==s)&&(u&&(d==null||d.unobserve(u)),this.measureElementCache[c.key]=s,d==null||d.observe(s));const i=this.options.measureElement(s,this),p=(o=this.itemMeasurementsCache[c.key])!=null?o:c.size,f=i-p;f!==0&&(c.start<this.scrollOffset&&this.isScrolling&&this.destinationOffset===void 0&&(this.scrollDelta+=f,this._scrollToOffset(this.scrollOffset+this.scrollDelta,{canSmooth:!1,sync:!1,requested:!1})),this.pendingMeasuredCacheIndexes.push(l),this.itemMeasurementsCache={...this.itemMeasurementsCache,[c.key]:i},this.notify())},this.measureElement=s=>{!s||this._measureElement(s,!0)},this.getVirtualItems=ye(()=>[this.getIndexes(),this.getMeasurements()],(s,r)=>{const o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l],d=r[u];o.push(d)}return o},{key:!1,debug:()=>this.options.debug}),this.scrollToOffset=function(s,r){let{align:o="start",smoothScroll:l=n.options.enableSmoothScroll}=r===void 0?{}:r;const c=n.scrollOffset,u=n.getSize();o==="auto"&&(s<=c?o="start":s>=c+u?o="end":o="start");const d={canSmooth:l,sync:!1,requested:!0};o==="start"?n._scrollToOffset(s,d):o==="end"?n._scrollToOffset(s-u,d):o==="center"&&n._scrollToOffset(s-u/2,d)},this.scrollToIndex=function(s,r){let{align:o="auto",smoothScroll:l=n.options.enableSmoothScroll,...c}=r===void 0?{}:r;const u=n.getMeasurements(),d=n.scrollOffset,i=n.getSize(),{count:p}=n.options,f=u[Math.max(0,Math.min(s,p-1))];if(!f)return;if(o==="auto")if(f.end>=d+i-n.options.scrollPaddingEnd)o="end";else if(f.start<=d+n.options.scrollPaddingStart)o="start";else return;const h=o==="end"?f.end+n.options.scrollPaddingEnd:f.start-n.options.scrollPaddingStart;n.scrollToOffset(h,{align:o,smoothScroll:l,...c})},this.getTotalSize=()=>{var s;return(((s=this.getMeasurements()[this.options.count-1])==null?void 0:s.end)||this.options.paddingStart)+this.options.paddingEnd},this._scrollToOffset=(s,r)=>{let{requested:o,canSmooth:l,sync:c}=r;clearTimeout(this.scrollCheckFrame),o&&(this.destinationOffset=s),this.options.scrollToFn(s,{canSmooth:l,sync:c},this);let u;const d=()=>{let i=this.scrollOffset;this.scrollCheckFrame=u=setTimeout(()=>{if(this.scrollCheckFrame===u){if(this.scrollOffset===i){this.destinationOffset=void 0;return}i=this.scrollOffset,d()}},100)};d()},this.measure=()=>{this.itemMeasurementsCache={},this.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.calculateRange()}}const Nr=(e,t,n,s)=>{for(;e<=t;){const r=(e+t)/2|0,o=n(r);if(o<s)e=r+1;else if(o>s)t=r-1;else return r}return e>0?e-1:0};function Tr(e){let{measurements:t,outerSize:n,scrollOffset:s}=e;const r=t.length-1,l=Nr(0,r,u=>t[u].start,s);let c=l;for(;c<r&&t[c].end<s+n;)c++;return{startIndex:l,endIndex:c}}const $r=typeof window<"u"?m.exports.useLayoutEffect:m.exports.useEffect;function Mr(e){const t=m.exports.useReducer(()=>({}),{})[1],n={...e,onChange:r=>{t(),e.onChange==null||e.onChange(r)}},[s]=m.exports.useState(()=>new Er(n));return s.setOptions(n),m.exports.useEffect(()=>s._didMount(),[]),$r(()=>s._willUpdate()),s}function xa(e){return Mr({observeElementRect:Dr,observeElementOffset:Ir,scrollToFn:Rr,...e})}function ee(e,t){const{base_url:n}=Tt(),s=m.exports.useContext(Or);if(!e)return{};const r={previewUrl:e.url,downloadUrl:`${n}/api/v1/file-entries/download/${(t==null?void 0:t.downloadHashes)||e.hash}`};return s&&(r.previewUrl=kt(r.previewUrl,{...s,thumbnail:t!=null&&t.thumbnail?"true":""},n),r.downloadUrl=kt(r.downloadUrl,s,n)),r}const Or=de.createContext(null);function kt(e,t,n){const s=new URL(e,n);return Object.entries(t).forEach(([r,o])=>{s.searchParams.append(r,o)}),s.toString()}const ut=de.createContext(null);function J({message:e,className:t,allowDownload:n}){const{entries:s,activeIndex:r}=m.exports.useContext(ut),o=s[r],l=e||a(V,{message:"No file preview available"}),{downloadUrl:c}=ee(o);return I("div",{className:T(t,"shadow bg-paper max-w-400 w-[calc(100%-40px)] text-center p-40 rounded"),children:[a("div",{className:"text-lg",children:l}),n&&a("div",{className:"block mt-20 text-center",children:a(Z,{variant:"flat",color:"primary",onClick:()=>{c&&Ge(c)},children:a(V,{message:"Download"})})})]})}function Fr(e){const{entry:t,className:n}=e,{trans:s}=ne(),{previewUrl:r}=ee(t);return r?a("img",{className:T(n,"shadow"),src:r,alt:s({message:"Preview for :name",values:{name:t.name}})}):a(J,{...e})}const Ar=5242880;function zr(e){const{entry:t,className:n}=e,{trans:s}=ne(),[r,o]=m.exports.useState(!1),[l,c]=m.exports.useState(!0),[u,d]=m.exports.useState(!1),[i,p]=m.exports.useState(null),{previewUrl:f}=ee(t);return m.exports.useEffect(()=>{!t||(f?t.file_size>=Ar?(o(!0),c(!1)):Vr(f).then(h=>{p(h.data)}).catch(()=>{d(!0)}).finally(()=>{c(!1)}):d(!0))},[t,f]),l?a(rt,{isIndeterminate:!0,"aria-label":s({message:"Loading file contents"})}):r?a(J,{...e,message:a(V,{message:"This file is too large to preview."})}):u?a(J,{...e,message:a(V,{message:"There was an issue previewing this file"})}):a("pre",{className:T("rounded bg-paper p-20 text-sm whitespace-pre-wrap break-words h-full overflow-y-auto w-full",n),children:a("div",{className:"container mx-auto",children:`${i}`})})}function Vr(e){return Oe.get(e,{responseType:"text",withCredentials:!1,headers:{Accept:"text/plain"}})}function Lr(e){const{entry:t,className:n}=e,{previewUrl:s}=ee(t),r=m.exports.useRef(null),[o,l]=m.exports.useState(!1);return m.exports.useEffect(()=>{var c;l(!((c=r.current)!=null&&c.canPlayType(t.mime)))},[t]),o||!s?a(J,{...e}):a("video",{className:n,ref:r,controls:!0,controlsList:"nodownload noremoteplayback",playsInline:!0,autoPlay:!0,children:a("source",{src:s,type:t.mime,onError:()=>{l(!0)}})})}function _r(e){const{entry:t,className:n}=e,{previewUrl:s}=ee(t),r=m.exports.useRef(null),[o,l]=m.exports.useState(!1);return m.exports.useEffect(()=>{var c;l(!((c=r.current)!=null&&c.canPlayType(t.mime)))},[t]),o||!s?a(J,{...e}):a("audio",{className:n,ref:r,controls:!0,controlsList:"nodownload noremoteplayback",autoPlay:!0,children:a("source",{src:s,type:t.mime,onError:()=>{l(!0)}})})}function Hr(e){const{entry:t,className:n}=e,{trans:s}=ne(),{previewUrl:r}=ee(t);return r?a("iframe",{title:s({message:"Preview for :name",values:{name:t.name}}),className:T(n,"w-full h-full"),src:`${r}#toolbar=0`}):a(J,{...e})}function Ke(e){const{entry:t,className:n}=e,{trans:s}=ne(),r=m.exports.useRef(null),[o,l]=m.exports.useState(!1),c=m.exports.useRef(),[u,d]=m.exports.useState(!1),{previewUrl:i}=ee(t);return m.exports.useEffect(()=>{i?t.file_size&&t.file_size>25e6?l(!0):r.current&&(r.current.onload=()=>{clearTimeout(c.current),d(!1)},Ur(i,t).then(p=>{r.current&&(r.current.src=p)}),c.current=setTimeout(()=>{l(!0)},5e3)):l(!0)},[t,i]),o?a(J,{...e}):I("div",{className:T(n,"w-full h-full"),children:[u&&a(rt,{}),a("iframe",{ref:r,title:s({message:"Preview for :name",values:{name:t.name}}),className:T("w-full h-full",u&&"hidden")})]})}async function Ur(e,t){const n=new URL(e);if(!n.searchParams.has("shareable_link")){const{data:s}=await Oe.post(`file-entries/${t.id}/add-preview-token`);n.searchParams.append("preview_token",s.preview_token)}return Br(n)}function Br(e){return`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.toString())}`}const Ct={text:zr,video:Lr,audio:_r,image:Fr,pdf:Hr,spreadsheet:Ke,powerPoint:Ke,word:Ke,"text/rtf":J};function Kr(e){const t=e==null?void 0:e.mime,n=e==null?void 0:e.type;return Ct[t]||Ct[n]||J}const jr=U(a("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"}),"ChevronLeftOutlined"),Yr=2*1024*1024;function qr({file:e,className:t,iconClassName:n,showImage:s=!0}){const{trans:r}=ne(),{previewUrl:o}=ee(e,{thumbnail:!0});if(e.file_size&&e.file_size>Yr&&!e.thumbnail&&(s=!1),s&&e.type==="image"&&o){const l=r({message:":fileName thumbnail",values:{fileName:e.name}});return a("img",{className:T(t,"object-cover"),src:o,alt:l,draggable:!1})}return a(Bn,{className:n,type:e.type})}function Gr({entries:e,onClose:t,showHeader:n=!0,className:s,headerActionsLeft:r,allowDownload:o=!0,...l}){const c=Re("(max-width: 1024px)"),[u,d]=Q(l.activeIndex,l.defaultActiveIndex||0,l.onActiveIndexChange),i=e[u],p=m.exports.useMemo(()=>({entries:e,activeIndex:u}),[e,u]),f=Kr(i);if(!i)return t==null||t(),null;const h=e.length-1>u,v=()=>{d(u+1)},y=u>0,x=()=>{d(u-1)};return I(ut.Provider,{value:p,children:[n&&a(Wr,{actionsLeft:r,isMobile:c,onClose:t,onNext:h?v:void 0,onPrevious:y?x:void 0,allowDownload:o}),I("div",{className:T("overflow-hidden relative flex-auto",s),children:[c&&a(Y,{size:"lg",className:"text-muted absolute left-0 top-1/2 transform -translate-y-1/2 z-10",disabled:!y,onClick:x,children:a(Kt,{})}),a(ge,{initial:!1,children:a(oe.div,{className:"absolute inset-0 flex items-center justify-center",...nt,children:a(f,{className:"max-h-[calc(100%-30px)]",entry:i,allowDownload:o})},i.id)}),c&&a(Y,{size:"lg",className:"text-muted absolute right-0 top-1/2 transform -translate-y-1/2 z-10",disabled:!h,onClick:v,children:a(jt,{})})]})]})}function Wr({onNext:e,onPrevious:t,onClose:n,isMobile:s,actionsLeft:r,allowDownload:o}){const{entries:l,activeIndex:c}=m.exports.useContext(ut),u=l[c],{downloadUrl:d}=ee(u);return I("div",{className:"flex items-center justify-between gap-20 bg-paper border-b flex-shrink-0 text-sm min-h-50 px-10 text-muted",children:[I("div",{className:"flex items-center gap-4 w-1/3 justify-start",children:[r,o?s?a(Y,{onClick:()=>{d&&Ge(d)},children:a(vt,{})}):a(Z,{startIcon:a(vt,{}),variant:"text",onClick:()=>{d&&Ge(d)},children:a(V,{message:"Download"})}):void 0]}),I("div",{className:"flex items-center gap-10 w-1/3 justify-center flex-nowrap text-main",children:[a(qr,{file:u,iconClassName:"w-16 h-16",showImage:!1}),a("div",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis",children:u.name})]}),I("div",{className:"w-1/3 flex items-center gap-10 justify-end whitespace-nowrap",children:[!s&&I(m.exports.Fragment,{children:[a(Y,{disabled:!t,onClick:t,children:a(jr,{})}),a("div",{children:c+1}),a("div",{children:"/"}),a("div",{children:l.length}),a(Y,{disabled:!e,onClick:e,children:a(jn,{})}),a("div",{className:"bg-divider w-1 h-24 mx-20"})]}),a(Y,{radius:"rounded-none",onClick:n,children:a(Vt,{})})]})]})}function ya(e){return a($e,{size:"fullscreenTakeover",background:"bg-alt",className:"flex flex-col",children:a(Xr,{...e})})}function Xr(e){const{close:t}=Qe();return a(Gr,{onClose:t,...e})}const Qr=new Ie({type:K.Select,key:"type",label:P("Type"),description:P("Type of the file"),defaultValue:"05",options:[{key:"02",label:P("Text"),value:"text"},{key:"03",label:P("Audio"),value:"audio"},{key:"04",label:P("Video"),value:"video"},{key:"05",label:P("Image"),value:"image"},{key:"06",label:P("PDF"),value:"pdf"},{key:"07",label:P("Spreadsheet"),value:"spreadsheet"},{key:"08",label:P("Word Document"),value:"word"},{key:"09",label:P("Photoshop"),value:"photoshop"},{key:"10",label:P("Archive"),value:"archive"},{key:"11",label:P("Folder"),value:"folder"}]}),wa=[Qr,new Ie({type:K.Select,key:"public",label:P("Visibility"),defaultValue:"01",description:P("Whether file is publicly accessible"),options:[{key:"01",label:P("Private"),value:!1},{key:"02",label:P("Public"),value:!0}]}),new vs({description:P("Date file was uploaded")}),new xs({description:P("Date file was last changed")}),new Ie({type:K.SelectModel,model:wr,key:"owner_id",label:P("Uploader"),description:P("User that this file was uploaded by")})];function Zr(e){const t=ct(),[n,s]=m.exports.useState(!e.value&&!e.defaultValue),r=e.onChange,[o,l]=Q(e.value||t,e.defaultValue||t,r),{min:c,max:u,granularity:d,timezone:i,calendarIsOpen:p,setCalendarIsOpen:f,closeDialogOnSelection:h}=Ut(o,e),v=m.exports.useCallback(()=>{s(!0),l(t),r==null||r(null),f(!1)},[t,l,r,f]),[y,x]=m.exports.useState(()=>[me(o)]),g=m.exports.useCallback(C=>{c&&C.compare(c)<0?C=c:u&&C.compare(u)>0&&(C=u);const E=o?o.set(C):X(C,i);l(E),x([me(E)]),s(!1)},[l,c,u,o,i]),w=m.exports.useCallback(C=>!n&&he(o,C),[o,n]),k=m.exports.useCallback(C=>({onClick:()=>{g==null||g(C),h&&(f==null||f(!1))}}),[g,f,h]);return{selectedValue:o,setSelectedValue:l,calendarIsOpen:p,setCalendarIsOpen:f,dayIsActive:w,dayIsHighlighted:()=>!1,dayIsRangeStart:()=>!1,dayIsRangeEnd:()=>!1,getCellProps:k,calendarDates:y,setCalendarDates:x,isPlaceholder:n,clear:v,setIsPlaceholder:s,min:c,max:u,granularity:d,timezone:i,closeDialogOnSelection:h}}function Jr({showCalendarFooter:e,...t}){const n=Zr(t),s=m.exports.useRef(null),r=ct(),o=e&&a(Ze,{padding:"px-14 pb-14",startAction:a(Z,{disabled:n.isPlaceholder,variant:"text",color:"primary",onClick:()=>{n.clear()},children:a(V,{message:"Clear"})}),children:a(Z,{variant:"text",color:"primary",onClick:()=>{n.setSelectedValue(r),n.setCalendarIsOpen(!1)},children:a(V,{message:"Today"})})}),l=a(et,{offset:8,placement:"bottom-start",isOpen:n.calendarIsOpen,onOpenChange:n.setCalendarIsOpen,type:"popover",triggerRef:s,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:I($e,{size:"auto",children:[a(Je,{className:"flex items-start gap-40",padding:e?"px-24 pt-20 pb-10":null,children:a(Yt,{state:n,visibleMonths:1})}),o]})}),c={onClick:u=>{u.stopPropagation(),u.preventDefault(),ea(u)?n.setCalendarIsOpen(!1):n.setCalendarIsOpen(!0)}};return I(m.exports.Fragment,{children:[a(it,{ref:s,wrapperProps:c,endAdornment:a(_t,{className:T(t.disabled&&"text-disabled")}),...t,children:a(pe,{segmentProps:c,state:n,value:n.selectedValue,onChange:n.setSelectedValue,isPlaceholder:n.isPlaceholder})}),l]})}function ka(e){const{min:t,max:n}=e,{trans:s}=ne(),{format:r}=ae(),{field:{onChange:o,onBlur:l,value:c=null,ref:u},fieldState:{invalid:d,error:i}}=Me({name:e.name,rules:{validate:h=>{if(!h)return;const v=Se(h);if(t&&v.compare(t)<0)return s({message:"Enter a date after :date",values:{date:r(h)}});if(n&&v.compare(n)>0)return s({message:"Enter a date before :date",values:{date:r(h)}})}}}),p=c?Se(c):null,f={onChange:h=>{o(h&&h.toAbsoluteString())},onBlur:l,value:p,invalid:d,errorMessage:i==null?void 0:i.message,inputRef:u};return a(Jr,{...le(f,e)})}function ea(e){return["hour","minute","dayPeriod"].includes(e.currentTarget.ariaLabel||"")}export{Ts as $,Fe as A,Ie as B,vs as C,ra as D,xa as E,K as F,Hs as G,wa as H,Xs as I,ya as J,Kt as K,ls as L,va as M,Ws as N,Wt as O,Gs as P,ka as Q,ee as R,Vs as S,ia as T,xs as U,qr as V,Gr as W,Or as X,Qr as Y,at as Z,en as _,la as a,ie as a0,Ns as a1,Pe as a2,hr as a3,qt as a4,_t as a5,Qn as a6,ds as a7,lt as a8,Os as a9,Bt as aa,jr as ab,Gn as ac,oa as b,aa as c,ot as d,jt as e,Ls as f,ca as g,ua as h,da as i,Ge as j,vt as k,or as l,Es as m,fa as n,is as o,dr as p,pa as q,ga as r,pr as s,we as t,Ds as u,ma as v,wr as w,ba as x,ha as y,ct as z};
//# sourceMappingURL=date-picker.92991ab6.js.map
